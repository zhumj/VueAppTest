import{a5 as Z,g as J,P as C,c as K,d as $,D as T,E as Q,z as W,e as s,O as q,X as ee,a as N,n as L,a6 as te,u as R,i as oe,a7 as ne,j as se,a1 as le,r as _,G as ae,k as ue,o as a,l as y,$ as j,q as ie,a8 as U,a0 as O,Z as re}from"./index-26a4f770.js";import{I as ce,N as de,f as fe}from"./index-aefc6609.js";import{B as pe,F as me}from"./index-5ebab59b.js";import{a as ve}from"./use-id-6378d4d2.js";import{P as _e}from"./index-9a03143e.js";import{L as ge}from"./index-b3889704.js";function he(){const e=J({show:!1}),t=l=>{e.show=l},o=l=>{C(e,l,{transitionAppear:!0}),t(!0)},n=()=>t(!1);return ve({open:o,close:n,toggle:t}),{open:o,close:n,state:e,toggle:t}}function ye(e){const t=Z(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}let D=0;function Ce(e){e?(D||document.body.classList.add("van-toast--unclickable"),D++):D&&(D--,D||document.body.classList.remove("van-toast--unclickable"))}const[xe,b]=K("toast"),De=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],be={icon:String,show:Boolean,type:N("text"),overlay:Boolean,message:L,iconSize:L,duration:te(2e3),position:N("middle"),teleport:[String,Object],className:R,iconPrefix:String,transition:N("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:R,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var G=$({name:xe,props:be,emits:["update:show"],setup(e,{emit:t}){let o,n=!1;const l=()=>{const c=e.show&&e.forbidClick;n!==c&&(n=c,Ce(n))},p=c=>t("update:show",c),g=()=>{e.closeOnClick&&p(!1)},r=()=>clearTimeout(o),h=()=>{const{icon:c,type:d,iconSize:B,iconPrefix:P,loadingType:z}=e;if(c||d==="success"||d==="fail")return s(ce,{name:c||d,size:B,class:b("icon"),classPrefix:P},null);if(d==="loading")return s(ge,{class:b("loading"),size:B,type:z},null)},m=()=>{const{type:c,message:d}=e;if(oe(d)&&d!=="")return c==="html"?s("div",{key:0,class:b("text"),innerHTML:String(d)},null):s("div",{class:b("text")},[d])};return T(()=>[e.show,e.forbidClick],l),T(()=>[e.show,e.type,e.message,e.duration],()=>{r(),e.show&&e.duration>0&&(o=setTimeout(()=>{p(!1)},e.duration))}),Q(l),W(l),()=>s(_e,q({class:[b([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:r,"onUpdate:show":p},ee(e,De)),{default:()=>[h(),m()]})}});const H={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let f=[],S=!1,F=C({},H);const w=new Map;function X(e){return le(e)?e:{message:e}}function Be(){const{instance:e,unmount:t}=ye({setup(){const o=_(""),{open:n,state:l,close:p,toggle:g}=he(),r=()=>{S&&(f=f.filter(m=>m!==e),t())},h=()=>s(G,q(l,{onClosed:r,"onUpdate:show":g}),null);return T(o,m=>{l.message=m}),ae().render=h,{open:n,clear:p,message:o}}});return e}function ke(){if(!f.length||S){const e=Be();f.push(e)}return f[f.length-1]}function i(e={}){if(!ne)return{};const t=ke(),o=X(e);return t.open(C({},F,w.get(o.type||F.type),o)),t}const V=e=>t=>i(C({type:e},X(t)));i.loading=V("loading");i.success=V("success");i.fail=V("fail");i.clear=e=>{var t;f.length&&(e?(f.forEach(o=>{o.clear()}),f=[]):S?(t=f.shift())==null||t.clear():f[0].clear())};function Ee(e,t){typeof e=="string"?w.set(e,t):C(F,e)}i.setDefaultOptions=Ee;i.resetDefaultOptions=e=>{typeof e=="string"?w.delete(e):(F=C({},H),w.clear())};i.allowMultiple=(e=!0)=>{S=e};i.install=e=>{e.use(se(G)),e.config.globalProperties.$toast=i};const Y=""+new URL("../drawable/salute-3b7547c3.png",import.meta.url).href,Fe={class:"container"},we=a("div",{class:"front_title"},"\u7231\u6211\u5C31\u4F7F\u52B2\u62BD\u6211\uFF01",-1),Oe={class:"front_selected_name"},Se={class:"front_button_container"},Pe=O("\u5F00\u59CB"),ze=O("\u8BBE\u7F6E"),Ae={style:{display:"flex","justify-content":"center","align-items":"center","padding-bottom":"12px"}},Ie=a("img",{src:Y,style:{width:"48px",height:"48px"}},null,-1),Ne={style:{"font-size":"24px","line-height":"24px","text-align":"left",color:"red"}},Te=a("img",{src:Y,style:{width:"48px",height:"48px",transform:"rotateY(180deg)"}},null,-1),Ve=a("div",{style:{"font-size":"16px",color:"#000"}},[O("\u62BD\u9009\u540D\u5355"),a("label",{style:{"font-size":"13px",color:"deeppink"}},'(\u591A\u4E2A\u9009\u9879\u7528\u82F1\u6587","\u9694\u5F00)')],-1),Me={style:{padding:"0 18px 0 18px"}},Le=a("div",{style:{"font-size":"16px",color:"#000"}},"\u62BD\u9009\u6570\u91CF",-1),Re={style:{padding:"0 18px 0 18px"}},je={class:"front_button_container"},Ue=O("\u4FDD\u5B58"),Ze=$({__name:"RandomRollCallView",setup(e){const t=_(!1),o=_("\u4E2D\u68EE\u660E\u83DC,\u5468\u6167\u654F,\u514B\u8389\u4E1D\u6C40\xB7\u65AF\u56FE\u5C14\u7279,\u897F\u91CE\u7FD4,\u6D2A\u771F\u82F1,\u5F20\u654F,\u6865\u672C\u73AF\u5948,\u90B1\u6DD1\u8D1E,\u5965\u9EDB\u4E3D\xB7\u8D6B\u672C,\u8D75\u4E3D\u9896,\u661F\u91CE\u60A0\u6708,\u5E03\u5170\u59AE\xB7\u65AF\u76AE\u5C14\u65AF,\u7B49\u4EC0\u4E48\u541B,\u98DE\u513F,\u79E6\u7FBD\u58A8"),n=_([]),l=_([]),p=_("\u9009\u4E2D\u6709\u5956\u54E6"),g=_(-1),r=_(!1),h=_(1);let m;const c=v=>v.replace(/\s+/g,""),d=v=>v===""||v==="0"?1:v,B=()=>{re.back()},P=()=>{n.value.length=0;let v=o.value.split(",");for(let u=0;u<v.length;u++){const k=v[u];k.length>0&&n.value.push(k)}l.value.length=0,p.value="\u9009\u4E2D\u6709\u5956\u54E6",g.value=-1,r.value=!1},z=()=>{if(P(),n.value.length<1){i.fail("\u8BF7\u8BBE\u7F6E\u62BD\u9009\u540D\u5355");return}if(h.value>=n.value.length){i.fail("\u62BD\u9009\u6570\u91CF\u4E0D\u53EF\u5927\u4E8E\u6216\u7B49\u4E8E\u62BD\u9009\u540D\u5355\u6570\u91CF");return}r.value=!0,A()},A=()=>{m=setInterval(()=>{g.value=Math.floor(Math.random()*n.value.length),p.value=n.value[g.value]},100),setTimeout(()=>{clearInterval(m),l.value.push(p.value),n.value.splice(g.value,1),l.value.length<h.value?setTimeout(()=>{A()},500):setTimeout(()=>{r.value=!1},500)},1500)};return(v,u)=>{const k=de,I=pe,M=fe,E=me;return ie(),ue("div",null,[s(k,{title:"\u968F\u673A\u70B9\u540D","left-text":"\u8FD4\u56DE",border:!1,"left-arrow":"",fixed:"",placeholder:"",onClickLeft:B}),a("div",Fe,[s(M,{class:j(["front",t.value?"container-front":""]),inset:"",style:{"margin-top":"24px"}},{default:y(()=>[we,a("div",Oe,U(p.value),1),a("div",Se,[s(I,{class:"front_button_start",type:"primary",size:"small",disabled:r.value,block:"",onClick:z},{default:y(()=>[Pe]),_:1},8,["disabled"]),s(I,{class:"front_button_settings",type:"primary",size:"small",disabled:r.value,block:"",onClick:u[0]||(u[0]=x=>t.value=!t.value)},{default:y(()=>[ze]),_:1},8,["disabled"])]),a("div",Ae,[Ie,a("div",Ne,U(l.value.join(", ")),1),Te])]),_:1},8,["class"]),s(M,{class:j(["reverse",t.value?"container-reverse":""]),inset:"",style:{"margin-top":"24px"}},{default:y(()=>[s(E,null,{input:y(()=>[Ve]),_:1}),a("div",Me,[s(E,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=x=>o.value=x),placeholder:"\u8BF7\u8F93\u5165\u62BD\u9009\u540D\u5355",type:"textarea",formatter:c,enterkeyhint:"done",autosize:{maxHeight:60},style:{border:"1px solid #ccc",padding:"6px 10px"}},null,8,["modelValue"])]),s(E,null,{input:y(()=>[Le]),_:1}),a("div",Re,[s(E,{modelValue:h.value,"onUpdate:modelValue":u[2]||(u[2]=x=>h.value=x),placeholder:"\u8BF7\u8F93\u5165\u62BD\u9009\u540D\u5355",type:"digit",formatter:d,enterkeyhint:"done",style:{border:"1px solid #ccc",padding:"6px 10px"}},null,8,["modelValue"])]),a("div",je,[s(I,{type:"primary",size:"small",disabled:r.value,block:"",onClick:u[3]||(u[3]=x=>t.value=!t.value)},{default:y(()=>[Ue]),_:1},8,["disabled"])])]),_:1},8,["class"])])])}}});export{Ze as default};
