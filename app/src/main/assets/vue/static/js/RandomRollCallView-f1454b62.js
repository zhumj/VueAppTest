import{c as Z,d as $,G as T,H as J,B as K,e as o,y as H,X as Q,a as N,n as L,a5 as W,u as R,i as ee,z as B,a6 as te,j as oe,a1 as le,r as _,I as se,k as ne,o as s,l as y,$ as j,q as ae,a7 as U,a0 as O,Z as ue}from"./index-e392ada0.js";import"./index-9c6ceaa6.js";import{F as ie}from"./index-da21fc10.js";import{C as re}from"./index-2cfcbc71.js";import{I as ce,N as de}from"./index-9b715166.js";import{m as fe,u as pe}from"./mount-component-b104f8c1.js";import{P as me}from"./index-07c63df4.js";import{L as ve}from"./index-906f7222.js";import{B as _e}from"./index-9644cfc3.js";import"./use-expose-217e939b.js";import"./use-id-998a80c9.js";let x=0;function ge(e){e?(x||document.body.classList.add("van-toast--unclickable"),x++):x&&(x--,x||document.body.classList.remove("van-toast--unclickable"))}const[he,D]=Z("toast"),ye=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Ce={icon:String,show:Boolean,type:N("text"),overlay:Boolean,message:L,iconSize:L,duration:W(2e3),position:N("middle"),teleport:[String,Object],className:R,iconPrefix:String,transition:N("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:R,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var q=$({name:he,props:Ce,emits:["update:show"],setup(e,{emit:t}){let l,n=!1;const i=()=>{const c=e.show&&e.forbidClick;n!==c&&(n=c,ge(n))},p=c=>t("update:show",c),g=()=>{e.closeOnClick&&p(!1)},r=()=>clearTimeout(l),h=()=>{const{icon:c,type:d,iconSize:b,iconPrefix:z,loadingType:P}=e;if(c||d==="success"||d==="fail")return o(ce,{name:c||d,size:b,class:D("icon"),classPrefix:z},null);if(d==="loading")return o(ve,{class:D("loading"),size:b,type:P},null)},m=()=>{const{type:c,message:d}=e;if(ee(d)&&d!=="")return c==="html"?o("div",{key:0,class:D("text"),innerHTML:String(d)},null):o("div",{class:D("text")},[d])};return T(()=>[e.show,e.forbidClick],i),T(()=>[e.show,e.type,e.message,e.duration],()=>{r(),e.show&&e.duration>0&&(l=setTimeout(()=>{p(!1)},e.duration))}),J(i),K(i),()=>o(me,H({class:[D([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:r,"onUpdate:show":p},Q(e,ye)),{default:()=>[h(),m()]})}});const G={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let f=[],S=!1,E=B({},G);const w=new Map;function X(e){return le(e)?e:{message:e}}function xe(){const{instance:e,unmount:t}=fe({setup(){const l=_(""),{open:n,state:i,close:p,toggle:g}=pe(),r=()=>{S&&(f=f.filter(m=>m!==e),t())},h=()=>o(q,H(i,{onClosed:r,"onUpdate:show":g}),null);return T(l,m=>{i.message=m}),se().render=h,{open:n,clear:p,message:l}}});return e}function De(){if(!f.length||S){const e=xe();f.push(e)}return f[f.length-1]}function u(e={}){if(!te)return{};const t=De(),l=X(e);return t.open(B({},E,w.get(l.type||E.type),l)),t}const V=e=>t=>u(B({type:e},X(t)));u.loading=V("loading");u.success=V("success");u.fail=V("fail");u.clear=e=>{var t;f.length&&(e?(f.forEach(l=>{l.clear()}),f=[]):S?(t=f.shift())==null||t.clear():f[0].clear())};function Be(e,t){typeof e=="string"?w.set(e,t):B(E,e)}u.setDefaultOptions=Be;u.resetDefaultOptions=e=>{typeof e=="string"?w.delete(e):(E=B({},G),w.clear())};u.allowMultiple=(e=!0)=>{S=e};u.install=e=>{e.use(oe(q)),e.config.globalProperties.$toast=u};const Y=""+new URL("../drawable/salute-3b7547c3.png",import.meta.url).href,be={class:"container"},ke=s("div",{class:"front_title"},"\u7231\u6211\u5C31\u4F7F\u52B2\u62BD\u6211\uFF01",-1),Fe={class:"front_selected_name"},Ee={class:"front_button_container"},we=O("\u5F00\u59CB"),Oe=O("\u8BBE\u7F6E"),Se={style:{display:"flex","justify-content":"center","align-items":"center","padding-bottom":"12px"}},ze=s("img",{src:Y,style:{width:"48px",height:"48px"}},null,-1),Pe={style:{"font-size":"24px","line-height":"24px","text-align":"left",color:"red"}},Ie=s("img",{src:Y,style:{width:"48px",height:"48px",transform:"rotateY(180deg)"}},null,-1),Ae=s("div",{style:{"font-size":"16px",color:"#000"}},[O("\u62BD\u9009\u540D\u5355"),s("label",{style:{"font-size":"13px",color:"deeppink"}},'(\u591A\u4E2A\u9009\u9879\u7528\u82F1\u6587","\u9694\u5F00)')],-1),Ne={style:{padding:"0 18px 0 18px"}},Te=s("div",{style:{"font-size":"16px",color:"#000"}},"\u62BD\u9009\u6570\u91CF",-1),Ve={style:{padding:"0 18px 0 18px"}},Me={class:"front_button_container"},Le=O("\u4FDD\u5B58"),Ke=$({__name:"RandomRollCallView",setup(e){const t=_(!1),l=_("\u4E2D\u68EE\u660E\u83DC,\u5468\u6167\u654F,\u514B\u8389\u4E1D\u6C40\xB7\u65AF\u56FE\u5C14\u7279,\u897F\u91CE\u7FD4,\u6D2A\u771F\u82F1,\u5F20\u654F,\u6865\u672C\u73AF\u5948,\u90B1\u6DD1\u8D1E,\u5965\u9EDB\u4E3D\xB7\u8D6B\u672C,\u8D75\u4E3D\u9896,\u661F\u91CE\u60A0\u6708,\u5E03\u5170\u59AE\xB7\u65AF\u76AE\u5C14\u65AF,\u7B49\u4EC0\u4E48\u541B,\u98DE\u513F,\u79E6\u7FBD\u58A8"),n=_([]),i=_([]),p=_("\u9009\u4E2D\u6709\u5956\u54E6"),g=_(-1),r=_(!1),h=_(1);let m;const c=v=>v.replace(/\s+/g,""),d=v=>v===""||v==="0"?1:v,b=()=>{t.value?t.value=!1:ue.back()},z=()=>{n.value.length=0;let v=l.value.split(",");for(let a=0;a<v.length;a++){const k=v[a];k.length>0&&n.value.push(k)}i.value.length=0,p.value="\u9009\u4E2D\u6709\u5956\u54E6",g.value=-1,r.value=!1},P=()=>{if(z(),n.value.length<1){u.fail("\u8BF7\u8BBE\u7F6E\u62BD\u9009\u540D\u5355");return}if(h.value>=n.value.length){u.fail("\u62BD\u9009\u6570\u91CF\u4E0D\u53EF\u5927\u4E8E\u6216\u7B49\u4E8E\u62BD\u9009\u540D\u5355\u6570\u91CF");return}r.value=!0,I()},I=()=>{m=setInterval(()=>{g.value=Math.floor(Math.random()*n.value.length),p.value=n.value[g.value]},100),setTimeout(()=>{clearInterval(m),i.value.push(p.value),n.value.splice(g.value,1),i.value.length<h.value?setTimeout(()=>{I()},500):setTimeout(()=>{r.value=!1},500)},1500)};return(v,a)=>{const k=de,A=_e,M=re,F=ie;return ae(),ne("div",null,[o(k,{title:"\u968F\u673A\u70B9\u540D","left-text":"\u8FD4\u56DE",border:!1,"left-arrow":"",fixed:"",placeholder:"",onClickLeft:b}),s("div",be,[o(M,{class:j(["front",t.value?"container-front":""]),inset:"",style:{"margin-top":"24px"}},{default:y(()=>[ke,s("div",Fe,U(p.value),1),s("div",Ee,[o(A,{class:"front_button_start",type:"primary",size:"small",disabled:r.value,block:"",onClick:P},{default:y(()=>[we]),_:1},8,["disabled"]),o(A,{class:"front_button_settings",type:"primary",size:"small",disabled:r.value,block:"",onClick:a[0]||(a[0]=C=>t.value=!t.value)},{default:y(()=>[Oe]),_:1},8,["disabled"])]),s("div",Se,[ze,s("div",Pe,U(i.value.join(", ")),1),Ie])]),_:1},8,["class"]),o(M,{class:j(["reverse",t.value?"container-reverse":""]),inset:"",style:{"margin-top":"24px"}},{default:y(()=>[o(F,null,{input:y(()=>[Ae]),_:1}),s("div",Ne,[o(F,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=C=>l.value=C),placeholder:"\u8BF7\u8F93\u5165\u62BD\u9009\u540D\u5355",type:"textarea",formatter:c,enterkeyhint:"done",autosize:{maxHeight:60},style:{border:"1px solid #ccc",padding:"6px 10px"}},null,8,["modelValue"])]),o(F,null,{input:y(()=>[Te]),_:1}),s("div",Ve,[o(F,{modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=C=>h.value=C),placeholder:"\u8BF7\u8F93\u5165\u62BD\u9009\u540D\u5355",type:"digit",formatter:d,enterkeyhint:"done",style:{border:"1px solid #ccc",padding:"6px 10px"}},null,8,["modelValue"])]),s("div",Me,[o(A,{type:"primary",size:"small",disabled:r.value,block:"",onClick:a[3]||(a[3]=C=>t.value=!t.value)},{default:y(()=>[Le]),_:1},8,["disabled"])])]),_:1},8,["class"])])])}}});export{Ke as default};
